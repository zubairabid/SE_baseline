{% extends "base.html" %}

{% block content %}
<div class='row'>
    <div class='col-sm-12'>
        <div class="card my-2" style="width: 100%">
            <h5 class="card-header">Assignment {{ assignment.id }}</h5>
            <div class="card-body mt-2 mb-2">
                <h6 class="card-subtitle my-2 text-muted">Question set by: {{ assignment.setter_username }}</h6>
                <ul class="list-group list-group-flush mb-2">
                    <li class="list-group-item">{{ assignment.q1 }}</li>
                    {% if assignment.q2 %}
                    <li class="list-group-item">{{ assignment.q2 }}</li>
                    {% endif %}
                    {% if assignment.q3 %}
                    <li class="list-group-item">{{ assignment.q3 }}</li>
                    {% endif %}
                </ul>
            </div>
            <div class="card-footer">
                {% if current_user.teacher %}

                {% else %}
                    {% if submission.submitted %}
                    <p>Submitted</p>
                    {% else %}
                        {% if submission.evaluated %}
                        <p>Evaluated: Score = {{ submission.score }}/30</p>
                        {% else %}
                        <form action="" method="post" enctype="multipart/form-data">
                            {{ form.hidden_tag() }}
                            <p>
                            <br>
                            {{ form.photo }} <br>
                            {% for error in form.photo.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                            {% endfor %}
                            </p>
                            <p> {{ form.submit() }} </p>
                        </form>

                        {% endif %}

                    {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% endblock %}


